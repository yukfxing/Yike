var Yike=angular.module("Yike",["ngRoute","Controllers","directives"]);Yike.config(["$routeProvider",function(e){e.when("/today",{templateUrl:"./views/today.html",controller:"todayController"}).when("/older",{templateUrl:"./views/older.html",controller:"olderController"}).when("/author",{templateUrl:"./views/author.html",controller:"authorController"}).when("/category",{templateUrl:"./views/category.html",controller:"categoryController"}).when("/favourite",{templateUrl:"./views/favourite.html",controller:"favouriteController"}).when("/settings",{templateUrl:"./views/settings.html",controller:"settingsController"}).otherwise({redirectTo:"/today"})}]),Yike.run(["$rootScope",function(r){r.collapsed=!1,r.toggle=function(){r.collapsed=!r.collapsed;var e=document.querySelectorAll(".navs dd");if(r.collapsed)for(var o=0,t=e.length;o<t;o++)e[o].style.transform="translate(0)",e[o].style.transitionDelay="0.2s",e[o].style.transitionDuration=.15*(o+1)+"s";else for(var l=t=e.length-1;0<l;l--)e[l].style.transform="translate(-100%)",e[l].style.transitionDelay="",e[l].style.transitionDuration=.15*(t-l)+"s"}}]),angular.module("Controllers",[]).controller("navController",["$scope",function(e){e.navs=[{link:"#/today",icon:"icon-home",text:"今日一刻"},{link:"#/older",icon:"icon-file-empty",text:"往期内容"},{link:"#/author",icon:"icon-pencil",text:"热门作者"},{link:"#/category",icon:"icon-menu",text:"栏目浏览"},{link:"#/favourite",icon:"icon-heart",text:"我的喜欢"},{link:"#/settings",icon:"icon-cog",text:"设置"}]}]).controller("todayController",["$scope","$http","$filter","$rootScope",function(o,e,t,l){var r=t("date")(new Date,"yyyy-MM-dd");l.title="今日一刻",l.index=0,l.hiden=!1,e({url:"./api/today.php",method:"get",params:{today:r}}).success(function(e){l.hiden=!0,console.log(e),o.date=r,o.posts=e.posts})}]).controller("olderController",["$scope","$http","$rootScope",function(o,e,t){t.title="往期内容",t.index=1,t.hiden=!1,e({url:"./api/older.php",method:"get"}).success(function(e){t.hiden=!0,console.log(e),o.date=e.date,o.posts=e.posts})}]).controller("authorController",["$scope","$http","$rootScope",function(o,e,t){t.title="热门作者",t.index=2,t.hiden=!1,e({url:"./api/author.php"}).success(function(e){t.hiden=!0,console.log(e),o.rec=e.rec,o.all=e.all})}]).controller("categoryController",["$scope","$http","$rootScope",function(o,e,t){t.title="栏目浏览",t.index=3,t.hiden=!1,e({url:"./api/category.php"}).success(function(e){t.hiden=!0,console.log(e),o.columns=e.columns})}]).controller("favouriteController",["$scope","$rootScope",function(e,o){o.title="我的喜欢",o.index=4,o.hiden=!0}]).controller("settingsController",["$scope","$rootScope",function(e,o){o.title="设置",o.index=5,o.hiden=!0}]),angular.module("directives",[]).directive("loading",function(){return{restrict:"A",replace:!0,template:'<img src="" alt="" />'}});